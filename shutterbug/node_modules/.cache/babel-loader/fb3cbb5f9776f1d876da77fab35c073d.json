{"remainingRequest":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\src\\components\\Imagecontrolpanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\src\\components\\Imagecontrolpanel.vue","mtime":1604885132924},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlczogbG9jYWxTdG9yYWdlLmdldEl0ZW0oImltYWdlcyIpLnNwbGl0KCIsIiksCiAgICAgIHVpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXItaWQiKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRvd25sb2FkOiBmdW5jdGlvbiBkb3dubG9hZCgpIHsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiBTdHJpbmcodGhpcy5pbWFnZXNbTnVtYmVyKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCldKSwKICAgICAgICByZXNwb25zZVR5cGU6ICJhcnJheWJ1ZmZlciIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdKSk7CiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgbGluay5ocmVmID0gdXJsOwogICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsICJJbWFnZS5wbmciKTsgLy9vciBhbnkgb3RoZXIgZXh0ZW5zaW9uCgogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCJlcnJvciBvY2N1cmVkIik7CiAgICAgIH0pOwogICAgfSwKICAgIHBvcnRmb2xpbzogZnVuY3Rpb24gcG9ydGZvbGlvKHJlc3BvbnNlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5wb3N0KCJodHRwOi8vMTI3LjAuMC4xOjgwMDAvcG9ydGZvbGlvLyIsIHsKICAgICAgICB1c2VyOiB0aGlzLnVpZCwKICAgICAgICBwaG90bzogcmVzcG9uc2UsCiAgICAgICAgdGFnczogdGhpcy50YWdzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsKCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvUG9ydGZvbGlvLyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgaW1hZ2U6IGZ1bmN0aW9uIGltYWdlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9pbWFnZS8iLCB7CiAgICAgICAgdXJsOiBTdHJpbmcodGhpcy5pbWFnZXNbTnVtYmVyKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCldKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgX3RoaXMyLnBvcnRmb2xpbyhyZXNwLmRhdGEuaWQpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Imagecontrolpanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,MAAA,EAAA,YAAA,CAAA,OAAA,CAAA,QAAA,EAAA,KAAA,CAAA,GAAA,CADA;AAEA,MAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,SAAA;AAFA,KAAA;AAAA,GADA;AAKA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,MAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA,CAFA;AAGA,QAAA,YAAA,EAAA;AAHA,OAAA,CAAA,CAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,YAAA,GAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,IAAA,CAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AACA,QAAA,IAAA,CAAA,IAAA,GAAA,GAAA;AACA,QAAA,IAAA,CAAA,YAAA,CAAA,UAAA,EAAA,WAAA,EAJA,CAIA;;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,IAAA;AACA,QAAA,IAAA,CAAA,KAAA;AACA,OAZA,EAaA,KAbA,CAaA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,eAAA,CAAA;AAAA,OAbA;AAcA,KAhBA;AAiBA,IAAA,SAjBA,qBAiBA,QAjBA,EAiBA;AAAA;;AACA,MAAA,KAAA,CACA,IADA,CACA,kCADA,EACA;AACA,QAAA,IAAA,EAAA,KAAA,GADA;AAEA,QAAA,KAAA,EAAA,QAFA;AAGA,QAAA,IAAA,EAAA,KAAA;AAHA,OADA,EAMA,IANA,CAMA,UAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAZA;AAaA,KA/BA;AAgCA,IAAA,KAhCA,mBAgCA;AAAA;;AACA,MAAA,KAAA,CACA,IADA,CACA,8BADA,EACA;AACA,QAAA,GAAA,EAAA,MAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA;AADA,OADA,EAIA,IAJA,CAIA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,OANA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OATA;AAUA;AA3CA;AALA,CAAA","sourcesContent":["<template>\r\n  <v-footer class=\"footer\">\r\n    <!-- Download a photo, always available. -->\r\n    <v-btn color=\"grey\" class=\"btn\" small @click=\"download()\">\r\n      <span>Download</span>\r\n    </v-btn>\r\n    <v-spacer></v-spacer>\r\n    <!-- Save a photo, available if a photo has not yet been saved. -->\r\n    <v-btn color=\"grey\" class=\"btn\" @click=\"image()\">\r\n      <span>Save</span>\r\n    </v-btn>\r\n    <v-spacer></v-spacer>\r\n    <!-- Button to modify a given photo, available if that photo has been saved. -->\r\n    <v-btn color=\"grey\" class=\"btn\" small>\r\n      <span>Modify</span>\r\n    </v-btn>\r\n    <v-spacer></v-spacer>\r\n    <!-- Button to delete the photo from a given user, if that user has saved said photo -->\r\n    <v-btn color=\"grey\" class=\"btn\" small>\r\n      <span>Delete</span>\r\n    </v-btn>\r\n    <!-- Tag field, when tags are entered and then saved, they are included with the request to the portfolio API -->\r\n    <v-text-field\r\n      v-model=\"tags\"\r\n      label=\"Photo Tags\"\r\n      outlined\r\n      filled\r\n      small\r\n      clearable\r\n    >\r\n    </v-text-field>\r\n  </v-footer>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    images: localStorage.getItem(\"images\").split(\",\"),\r\n    uid: localStorage.getItem(\"user-id\")\r\n  }),\r\n  methods: {\r\n    download() {\r\n      axios({\r\n        method: \"get\",\r\n        url: String(this.images[Number(this.$route.params.id)]),\r\n        responseType: \"arraybuffer\"\r\n      })\r\n        .then(response => {\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n          link.setAttribute(\"download\", \"Image.png\"); //or any other extension\r\n          document.body.appendChild(link);\r\n          link.click();\r\n        })\r\n        .catch(() => console.log(\"error occured\"));\r\n    },\r\n    portfolio(response) {\r\n      axios\r\n        .post(\"http://127.0.0.1:8000/portfolio/\", {\r\n          user: this.uid,\r\n          photo: response,\r\n          tags: this.tags\r\n        })\r\n        .then(resp => {\r\n          console.log(resp);\r\n          this.$router.push(\"/Portfolio/\");\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    image() {\r\n      axios\r\n        .post(\"http://127.0.0.1:8000/image/\", {\r\n          url: String(this.images[Number(this.$route.params.id)])\r\n        })\r\n        .then(resp => {\r\n          this.portfolio(resp.data.id);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn {\r\n  margin-left: 20px;\r\n}\r\n\r\n.link {\r\n  text-decoration: none;\r\n  color: \"inherit\";\r\n}\r\n\r\n.footer {\r\n  width: 50%;\r\n  position: fixed;\r\n  transform: translateY(50%);\r\n  transform: translateX(50%);\r\n  margin-top: 500px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}