{"remainingRequest":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\src\\components\\Imagecontrolpanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\src\\components\\Imagecontrolpanel.vue","mtime":1604885132924},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGE6ICgpID0+ICh7DQogICAgaW1hZ2VzOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaW1hZ2VzIikuc3BsaXQoIiwiKSwNCiAgICB1aWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyLWlkIikNCiAgfSksDQogIG1ldGhvZHM6IHsNCiAgICBkb3dubG9hZCgpIHsNCiAgICAgIGF4aW9zKHsNCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwNCiAgICAgICAgdXJsOiBTdHJpbmcodGhpcy5pbWFnZXNbTnVtYmVyKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCldKSwNCiAgICAgICAgcmVzcG9uc2VUeXBlOiAiYXJyYXlidWZmZXIiDQogICAgICB9KQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdKSk7DQogICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsNCiAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7DQogICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgIkltYWdlLnBuZyIpOyAvL29yIGFueSBvdGhlciBleHRlbnNpb24NCiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOw0KICAgICAgICAgIGxpbmsuY2xpY2soKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IGNvbnNvbGUubG9nKCJlcnJvciBvY2N1cmVkIikpOw0KICAgIH0sDQogICAgcG9ydGZvbGlvKHJlc3BvbnNlKSB7DQogICAgICBheGlvcw0KICAgICAgICAucG9zdCgiaHR0cDovLzEyNy4wLjAuMTo4MDAwL3BvcnRmb2xpby8iLCB7DQogICAgICAgICAgdXNlcjogdGhpcy51aWQsDQogICAgICAgICAgcGhvdG86IHJlc3BvbnNlLA0KICAgICAgICAgIHRhZ3M6IHRoaXMudGFncw0KICAgICAgICB9KQ0KICAgICAgICAudGhlbihyZXNwID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL1BvcnRmb2xpby8iKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBpbWFnZSgpIHsNCiAgICAgIGF4aW9zDQogICAgICAgIC5wb3N0KCJodHRwOi8vMTI3LjAuMC4xOjgwMDAvaW1hZ2UvIiwgew0KICAgICAgICAgIHVybDogU3RyaW5nKHRoaXMuaW1hZ2VzW051bWJlcih0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpXSkNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgdGhpcy5wb3J0Zm9saW8ocmVzcC5kYXRhLmlkKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Imagecontrolpanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Imagecontrolpanel.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-footer class=\"footer\">\r\n    <!-- Download a photo, always available. -->\r\n    <v-btn color=\"grey\" class=\"btn\" small @click=\"download()\">\r\n      <span>Download</span>\r\n    </v-btn>\r\n    <v-spacer></v-spacer>\r\n    <!-- Save a photo, available if a photo has not yet been saved. -->\r\n    <v-btn color=\"grey\" class=\"btn\" @click=\"image()\">\r\n      <span>Save</span>\r\n    </v-btn>\r\n    <v-spacer></v-spacer>\r\n    <!-- Button to modify a given photo, available if that photo has been saved. -->\r\n    <v-btn color=\"grey\" class=\"btn\" small>\r\n      <span>Modify</span>\r\n    </v-btn>\r\n    <v-spacer></v-spacer>\r\n    <!-- Button to delete the photo from a given user, if that user has saved said photo -->\r\n    <v-btn color=\"grey\" class=\"btn\" small>\r\n      <span>Delete</span>\r\n    </v-btn>\r\n    <!-- Tag field, when tags are entered and then saved, they are included with the request to the portfolio API -->\r\n    <v-text-field\r\n      v-model=\"tags\"\r\n      label=\"Photo Tags\"\r\n      outlined\r\n      filled\r\n      small\r\n      clearable\r\n    >\r\n    </v-text-field>\r\n  </v-footer>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    images: localStorage.getItem(\"images\").split(\",\"),\r\n    uid: localStorage.getItem(\"user-id\")\r\n  }),\r\n  methods: {\r\n    download() {\r\n      axios({\r\n        method: \"get\",\r\n        url: String(this.images[Number(this.$route.params.id)]),\r\n        responseType: \"arraybuffer\"\r\n      })\r\n        .then(response => {\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n          link.setAttribute(\"download\", \"Image.png\"); //or any other extension\r\n          document.body.appendChild(link);\r\n          link.click();\r\n        })\r\n        .catch(() => console.log(\"error occured\"));\r\n    },\r\n    portfolio(response) {\r\n      axios\r\n        .post(\"http://127.0.0.1:8000/portfolio/\", {\r\n          user: this.uid,\r\n          photo: response,\r\n          tags: this.tags\r\n        })\r\n        .then(resp => {\r\n          console.log(resp);\r\n          this.$router.push(\"/Portfolio/\");\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    image() {\r\n      axios\r\n        .post(\"http://127.0.0.1:8000/image/\", {\r\n          url: String(this.images[Number(this.$route.params.id)])\r\n        })\r\n        .then(resp => {\r\n          this.portfolio(resp.data.id);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn {\r\n  margin-left: 20px;\r\n}\r\n\r\n.link {\r\n  text-decoration: none;\r\n  color: \"inherit\";\r\n}\r\n\r\n.footer {\r\n  width: 50%;\r\n  position: fixed;\r\n  transform: translateY(50%);\r\n  transform: translateX(50%);\r\n  margin-top: 500px;\r\n}\r\n</style>\r\n"]}]}