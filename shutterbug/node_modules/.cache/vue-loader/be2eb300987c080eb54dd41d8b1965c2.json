{"remainingRequest":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\src\\components\\Imagecontrolpanel.vue?vue&type=style&index=0&id=1cf95ea2&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\src\\components\\Imagecontrolpanel.vue","mtime":1604885132924},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\walid\\Documents\\GitHub\\ShutterBug\\shutterbug\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYnRuIHsNCiAgbWFyZ2luLWxlZnQ6IDIwcHg7DQp9DQoNCi5saW5rIHsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICBjb2xvcjogImluaGVyaXQiOw0KfQ0KDQouZm9vdGVyIHsNCiAgd2lkdGg6IDUwJTsNCiAgcG9zaXRpb246IGZpeGVkOw0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoNTAlKTsNCiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDUwJSk7DQogIG1hcmdpbi10b3A6IDUwMHB4Ow0KfQ0K"},{"version":3,"sources":["Imagecontrolpanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Imagecontrolpanel.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-footer class=\"footer\">\r\n    <!-- Download a photo, always available. -->\r\n    <v-btn color=\"grey\" class=\"btn\" small @click=\"download()\">\r\n      <span>Download</span>\r\n    </v-btn>\r\n    <v-spacer></v-spacer>\r\n    <!-- Save a photo, available if a photo has not yet been saved. -->\r\n    <v-btn color=\"grey\" class=\"btn\" @click=\"image()\">\r\n      <span>Save</span>\r\n    </v-btn>\r\n    <v-spacer></v-spacer>\r\n    <!-- Button to modify a given photo, available if that photo has been saved. -->\r\n    <v-btn color=\"grey\" class=\"btn\" small>\r\n      <span>Modify</span>\r\n    </v-btn>\r\n    <v-spacer></v-spacer>\r\n    <!-- Button to delete the photo from a given user, if that user has saved said photo -->\r\n    <v-btn color=\"grey\" class=\"btn\" small>\r\n      <span>Delete</span>\r\n    </v-btn>\r\n    <!-- Tag field, when tags are entered and then saved, they are included with the request to the portfolio API -->\r\n    <v-text-field\r\n      v-model=\"tags\"\r\n      label=\"Photo Tags\"\r\n      outlined\r\n      filled\r\n      small\r\n      clearable\r\n    >\r\n    </v-text-field>\r\n  </v-footer>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    images: localStorage.getItem(\"images\").split(\",\"),\r\n    uid: localStorage.getItem(\"user-id\")\r\n  }),\r\n  methods: {\r\n    download() {\r\n      axios({\r\n        method: \"get\",\r\n        url: String(this.images[Number(this.$route.params.id)]),\r\n        responseType: \"arraybuffer\"\r\n      })\r\n        .then(response => {\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n          link.setAttribute(\"download\", \"Image.png\"); //or any other extension\r\n          document.body.appendChild(link);\r\n          link.click();\r\n        })\r\n        .catch(() => console.log(\"error occured\"));\r\n    },\r\n    portfolio(response) {\r\n      axios\r\n        .post(\"http://127.0.0.1:8000/portfolio/\", {\r\n          user: this.uid,\r\n          photo: response,\r\n          tags: this.tags\r\n        })\r\n        .then(resp => {\r\n          console.log(resp);\r\n          this.$router.push(\"/Portfolio/\");\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    image() {\r\n      axios\r\n        .post(\"http://127.0.0.1:8000/image/\", {\r\n          url: String(this.images[Number(this.$route.params.id)])\r\n        })\r\n        .then(resp => {\r\n          this.portfolio(resp.data.id);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn {\r\n  margin-left: 20px;\r\n}\r\n\r\n.link {\r\n  text-decoration: none;\r\n  color: \"inherit\";\r\n}\r\n\r\n.footer {\r\n  width: 50%;\r\n  position: fixed;\r\n  transform: translateY(50%);\r\n  transform: translateX(50%);\r\n  margin-top: 500px;\r\n}\r\n</style>\r\n"]}]}